<!doctype html>
<html>
<head>
  <title> Advanced JavaScript Project: equals() (version 2) </title>
  <meta charset="utf-8">
  <script> 

    function Book(title, author, published, hasMovie) {
        this.title = title;
        this.author = author;
        this.published = published;
        this.hasMovie = hasMovie;
        this.equals = function(other) {      
	  if( this && other ) {				// check to be sure both this and other are defined
	    for ( p in this ) {				// loop over the properties and check for equality
	      if ( this[p] !== other[p] ) {
	        if ( p === 'equals' ) { continue; }	// do not compare the .equals property because it is a function
	        return false;				// if properties do not match return false
	      }
	    }
            return true;				// all props match, return true
	  } else {
	    return false;				// return false if this or other are not defined
	  }		
        };
    }
    var book1 = new Book("Harry Potter", "JK Rowling", 1999, true);
    var book2 = new Book("Harry Potter", "JK Rowling", 1999, true);
    var book3 = new Book("The Adventures of Sherlock Holmes", "Sir Arthur Conan Doyle", 1892, true);
    
    // Test cases for the equals() method
    console.log("Compare book1, book2 with equals method: ");
    if (book1.equals(book2)) {
        console.log("The two books are the same");
    } else {
        console.log("The two books are different");
    }
    console.log("Compare book1, book3 with equals method: ");
    if (book1.equals(book3)) {
        console.log("The two books are the same");
    } else {
        console.log("The two books are different");
    }
    if (!book1.equals(null)) { console.log("Book1 and null are not the same."); }
    if (!book1.equals(undefined)) { console.log("Book1 and undefined are not the same."); }
    if (!book1.equals({})) { console.log("Book1 and { } are not the same."); }
  </script>
</head>
<body>
</body>
</html>  